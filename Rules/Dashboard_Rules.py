from functools import reduce
import pandas as pd
import scipy.stats
from pandasql import sqldf
import re
from fuzzywuzzy import fuzz
import seaborn as sns
import matplotlib.pyplot as plt
from Rules.Explaining_rulesHead_API import main_rulesHead
from Rules.PosNeg_Rules import mainPosNeg
import warnings
warnings.filterwarnings("ignore")


matching_row = []

data_dict = {'Body': ['?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasStage>  <IV>   ', '?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IA>   ', '?a  <hasStage>  <IIB>   ', '?a  <hasStage>  <IB>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasBio>  <ALK>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasStage>  <IIIC>   ', '?a  <hasBio>  <BRAF>   ', '?a  <hasBio>  <ALK>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasStage>  <IV>   ', '?a  <hasStage>  <IVB>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasStage>  <IV>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasStage>  <IVA>   ', '?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Prophylactic>   ', '?a  <hasStage>  <IV>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasStage>  <IIA>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasStage>  <IB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasStage>  <IA>   ', '?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasStage>  <IV>   ', '?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasStage>  <IA>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasStage>  <IB>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Pleurodesis>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasBio>  <ALK>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Prophylactic>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Prophylactic>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Prophylactic>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasStage>  <IVA>   ', '?a  <hasStage>  <IVB>   ', '?a  <hasStage>  <IV>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Prophylactic>   ', '?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasStage>  <IIA>   ', '?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasStage>  <IV>   ', '?a  <hasStage>  <IVB>   ', '?a  <hasStage>  <IB>   ', '?a  <hasStage>  <IIB>   ', '?a  <hasStage>  <IIIB>   ', '?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Pleurodesis>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasBio>  <EGFR>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasBio>  <PDL1>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIB>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IB>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIA>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIIB>   ', '?a  <hasBio>  <ALK>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IB>   ', '?a  <hasBio>  <BRAF>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Surgery>  ?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Surgery>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IVA>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IB>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IB>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IV>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIA>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IA>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalSurgery>  <Lobectomy>   ', '?a  <hasOncologicalTreatment>  <Surgery>  ?a  <hasStage>  <IA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IA>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalSurgery>  <Lymph_node_excision>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Neoadjuvant>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalSurgery>  <Pneumonectomy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalSurgery>  <Pneumonectomy>  ?a  <hasOncologicalTreatment>  <Chemotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Surgery>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Adjuvant>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>  ?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasBio>  <PDL1>  ?a  <hasStage>  <IVB>   ', '?a  <hasOncologicalTreatment>  <Chemotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasOncologicalTreatment>  <Radical>   ', '?a  <hasOncologicalTreatment>  <Immunotherapy>  ?a  <hasStage>  <IVB>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasOncologicalSurgery>  <Lobectomy>  ?a  <hasOncologicalTreatment>  <Immunotherapy>   ', '?a  <hasBio>  <EGFR>  ?a  <hasOncologicalTreatment>  <Radiotherapy>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasStage>  <IV>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalTreatment>  <Radiotherapy>  ?a  <hasStage>  <IIIB>   ', '?a  <hasOncologicalTreatment>  <Adjuvant>  ?a  <hasStage>  <IIIA>   ', '?a  <hasOncologicalSurgery>  <Pleurodesis>  ?a  <hasStage>  <IV>   ', '?a  <hasOncologicalTreatment>  <Radical>  ?a  <hasStage>  <IIIB>   ', '?a  <hasBio>  <PDL1>  ?a  <hasOncologicalTreatment>  <Radical>   '], 'Head': ['?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasBio>  <PDL1>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy-Radiotherapy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasBio>  <PDL1>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasOncologicalSurgery>  <Lobectomy>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasBio>  <PDL1>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasBio>  <PDL1>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Immunotherapy>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Radical>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalTreatment>  <Surgery>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasOncologicalSurgery>  <Lymph_node_excision>', '?a  <hasStage>  <IV>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IA>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IVB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIB>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasStage>  <IIIA>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasStage>  <IIIA>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Radiotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>', '?a  <hasOncologicalTreatment>  <Chemotherapy>'], 'Head_Coverage': [0.022642785, 0.015545792, 0.030077729, 0.011152416, 0.018925313, 0.046637377, 0.06725245, 0.068604258, 0.058498896, 0.046357616, 0.037527594, 0.01214128, 0.047461369, 0.06401766, 0.168874172, 0.025386313, 0.049668874, 0.465783664, 0.318984547, 0.137969095, 0.028697572, 0.098233996, 0.056291391, 0.088300221, 0.020971302, 0.292494481, 0.011037528, 0.014348786, 0.026717557, 0.011450382, 0.030534351, 0.045801527, 0.053435115, 0.198473282, 0.049618321, 0.122137405, 0.072519084, 0.061068702, 0.099236641, 0.29389313, 0.038167939, 0.122137405, 0.278625954, 0.469465649, 0.015545792, 0.018925313, 0.021290977, 0.049618321, 0.017911457, 0.046637377, 0.012842176, 0.014193984, 0.07063197, 0.024670497, 0.046637377, 0.025684353, 0.021290977, 0.012504224, 0.010476512, 0.090571139, 0.021290977, 0.029739777, 0.01351808, 0.019601217, 0.086515715, 0.018925313, 0.018925313, 0.010814464, 0.015883745, 0.025684353, 0.016897601, 0.049678946, 0.030753633, 0.106116931, 0.034471105, 0.020277121, 0.020615073, 0.142615749, 0.060155458, 0.097330179, 0.039735099, 0.025386313, 0.036423841, 0.318984547, 0.071743929, 0.091611479, 0.055187638, 0.018763797, 0.038631347, 0.036423841, 0.028697572, 0.317880795, 0.131346578, 0.029801325, 0.04415011, 0.016556291, 0.213024283, 0.011037528, 0.042673108, 0.12962963, 0.024959742, 0.027375201, 0.011272142, 0.012882448, 0.025764895, 0.208534622, 0.082125604, 0.052334944, 0.071658615, 0.033816425, 0.087761675, 0.041867955, 0.01610306, 0.05394525, 0.060386473, 0.078904992, 0.011272142, 0.050724638, 0.011272142, 0.019323671, 0.071658615, 0.118357488, 0.020128824, 0.016908213, 0.133655395, 0.010466989, 0.106280193, 0.070853462, 0.066827697, 0.011272142, 0.012882448, 0.028180354, 0.024154589, 0.169887279, 0.100644122, 0.01182832, 0.090571139, 0.020277121, 0.018925313, 0.060155458, 0.06725245, 0.046637377, 0.012504224, 0.025346401, 0.054410274, 0.197701926, 0.033119297, 0.056100034, 0.01182832, 0.015545792, 0.026022305, 0.040216289, 0.051706658, 0.068604258, 0.106116931, 0.07063197, 0.197701926, 0.018925313, 0.011490368, 0.018925313, 0.011490368, 0.023318689, 0.086515715, 0.087529571, 0.036836769, 0.012166272, 0.016559649, 0.044609665, 0.071307874, 0.016897601, 0.016559649, 0.026360257, 0.065224738, 0.041568097, 0.089557283, 0.021290977, 0.015545792, 0.01351808, 0.022642785, 0.015545792, 0.01182832, 0.030077729, 0.020953025, 0.030077729, 0.014531936, 0.018925313, 0.06725245, 0.046637377, 0.029801325, 0.045253863, 0.014348786, 0.015452539, 0.055187638, 0.084988962, 0.034216336, 0.011037528, 0.306843267, 0.017660044, 0.011037528, 0.018763797, 0.01214128, 0.034351145, 0.037527594, 0.03200883, 0.011450382, 0.045801527, 0.015267176, 0.045801527, 0.011450382, 0.129770992, 0.106870229, 0.076335878, 0.026717557, 0.019083969, 0.038167939, 0.076335878, 0.064885496, 0.015545792, 0.021290977, 0.278625954, 0.01182832, 0.012504224, 0.01013856, 0.01182832, 0.015883745, 0.046299425, 0.014193984, 0.024670497, 0.025684353, 0.014531936, 0.046637377, 0.020953025, 0.021290977, 0.021290977, 0.021290977, 0.021290977, 0.086515715, 0.018925313, 0.029739777, 0.028387969, 0.014531936, 0.013856032, 0.011152416, 0.010476512, 0.021966881, 0.01182832, 0.040216289, 0.01520784, 0.016897601, 0.027036161, 0.017235553, 0.027036161, 0.029739777, 0.016556291, 0.034216336, 0.093950659, 0.11589404, 0.193156733, 0.027593819, 0.306843267, 0.026490066, 0.015452539, 0.011037528, 0.015452539, 0.071743929, 0.016556291, 0.01986755, 0.059602649, 0.079470199, 0.026490066, 0.028697572, 0.114790287, 0.014348786, 0.189845475, 0.01610306, 0.052334944, 0.022544283, 0.024154589, 0.033816425, 0.070853462, 0.027375201, 0.050724638, 0.01610306, 0.037037037, 0.010466989, 0.050724638, 0.077294686, 0.049919485, 0.012077295, 0.016908213, 0.095813205, 0.020933977, 0.071658615, 0.066022544, 0.026570048, 0.024959742, 0.016908213, 0.098228663, 0.01610306, 0.020933977, 0.012077295, 0.057971014, 0.08373591, 0.043478261, 0.124798712, 0.026570048, 0.057165862, 0.014492754, 0.020933977, 0.014492754, 0.02173913, 0.018925313, 0.01013856, 0.02173913, 0.030077729, 0.011152416, 0.015545792, 0.014193984, 0.052382562, 0.046299425, 0.011490368, 0.032443393, 0.046299425, 0.021290977, 0.014193984, 0.024670497, 0.011490368, 0.01520784, 0.01013856, 0.052382562, 0.032443393, 0.011152416, 0.010814464, 0.021290977, 0.010476512], 'Std_Confidence': [0.475177305, 0.216981132, 0.367768595, 0.105769231, 0.106463878, 0.514925373, 0.312893082, 0.211018711, 0.726027397, 0.206896552, 0.160377358, 0.314285714, 0.716666667, 0.21641791, 0.240566038, 0.080139373, 0.882352941, 0.802281369, 0.926282051, 0.516528926, 0.184397163, 0.847619048, 0.75, 0.842105263, 0.228915663, 0.275467775, 0.303030303, 0.092857143, 0.368421053, 0.75, 0.242424242, 0.144578313, 0.048780488, 0.433333333, 0.092198582, 0.380952381, 0.093596059, 0.066115702, 0.049429658, 0.121069182, 0.032051282, 0.119402985, 0.344339623, 0.127858628, 0.226600985, 0.106463878, 0.235074627, 0.028953229, 0.18466899, 0.216981132, 0.452380952, 0.35, 0.217255717, 0.521428571, 0.679802956, 0.144486692, 0.297169811, 0.660714286, 0.108013937, 0.421383648, 0.446808511, 0.363636364, 0.128205128, 0.129175947, 0.266112266, 0.275862069, 0.264150943, 0.228571429, 0.783333333, 0.28358209, 0.980392157, 0.607438017, 0.957894737, 0.326403326, 0.971428571, 0.882352941, 0.835616438, 0.93986637, 0.279874214, 0.923076923, 0.493150685, 0.080139373, 0.647058824, 0.643652561, 0.619047619, 0.342975207, 0.526315789, 0.120567376, 0.514705882, 0.162561576, 0.122641509, 0.547528517, 0.187106918, 0.45, 0.149253731, 0.180722892, 0.200623701, 0.071428571, 0.25, 0.253144654, 0.115671642, 0.641509434, 0.1, 0.484848485, 0.385542169, 0.269230769, 0.19391635, 0.208333333, 0.198218263, 0.198113208, 0.113305613, 0.371428571, 0.240963855, 0.330049261, 0.117924528, 0.15408805, 0.4, 0.235074627, 0.25, 0.113207547, 0.438423645, 0.279467681, 0.117924528, 0.6, 0.261006289, 0.232142857, 0.137214137, 0.328358209, 0.266025641, 0.168674699, 0.114285714, 0.583333333, 0.410958904, 0.219334719, 0.278396437, 1.0, 1.0, 1.0, 1.0, 0.338403042, 0.980295567, 0.650943396, 0.44047619, 0.625, 0.56097561, 0.608108108, 0.695035461, 0.685950413, 0.479452055, 0.554216867, 0.55, 0.381410256, 0.340757238, 1.0, 0.596958175, 0.985849057, 0.919811321, 1.0, 0.971428571, 0.933333333, 0.666666667, 0.821428571, 0.955223881, 0.902439024, 0.908333333, 0.378947368, 0.720588235, 0.936170213, 0.871900826, 0.943396226, 0.671232877, 0.939759036, 0.618589744, 0.878571429, 0.590200445, 0.642857143, 0.220095694, 0.634920635, 0.507575758, 0.333333333, 0.555555556, 0.536144578, 0.704545455, 0.421800948, 0.565789474, 0.314606742, 0.34017094, 0.5390625, 1.0, 0.872340426, 0.590909091, 0.933333333, 1.0, 0.927710843, 0.939393939, 1.0, 0.965277778, 0.941176471, 0.909090909, 0.80952381, 0.423076923, 0.5, 0.693877551, 0.805555556, 1.0, 0.324324324, 0.363636364, 0.081632653, 0.12, 0.453333333, 0.666666667, 0.526315789, 0.078651685, 0.089285714, 0.034602076, 0.317460317, 0.123188406, 0.231155779, 0.24609375, 0.349282297, 0.253623188, 0.536231884, 0.4, 0.760869565, 0.61038961, 0.234188034, 0.385321101, 0.593495935, 0.426966292, 0.767857143, 0.693467337, 0.696629213, 0.456521739, 0.477272727, 0.301435407, 0.642857143, 0.437606838, 0.281407035, 0.530120482, 0.398104265, 0.311594203, 0.953488372, 1.0, 0.885714286, 1.0, 1.0, 0.952, 1.0, 1.0, 0.963855422, 1.0, 1.0, 0.988764045, 0.652173913, 0.688888889, 0.961937716, 0.68627451, 0.660377358, 0.735294118, 0.658767773, 0.705882353, 0.636363636, 0.769230769, 0.736842105, 0.637254902, 0.652173913, 0.514285714, 0.325301205, 0.341232227, 0.489795918, 0.464285714, 0.584269663, 0.619047619, 0.547770701, 0.434782609, 0.225694444, 0.383561644, 0.217391304, 0.200956938, 0.208530806, 0.441558442, 0.21799308, 0.256410256, 0.37398374, 0.481481481, 0.24609375, 0.164102564, 0.449275362, 0.454545455, 0.5, 0.281990521, 0.464285714, 0.447236181, 0.460674157, 0.434210526, 0.659574468, 0.617647059, 0.388535032, 0.571428571, 0.426229508, 0.416666667, 0.373056995, 0.39245283, 0.453781513, 0.264957265, 0.589285714, 0.464052288, 0.45, 0.448275862, 0.666666667, 0.551020408, 1.0, 0.714285714, 0.627906977, 1.0, 1.0, 1.0, 1.0, 0.734597156, 0.655502392, 0.653846154, 0.727272727, 0.992753623, 1.0, 1.0, 1.0, 1.0, 0.97826087, 0.967741935, 0.93373494, 0.979591837, 0.942857143, 0.941176471, 1.0, 0.96875], 'PCA_Confidence': [0.485507246, 0.216981132, 0.369294606, 0.106109325, 0.106463878, 0.514925373, 0.312893082, 0.211018711, 0.726027397, 0.724137931, 0.739130435, 0.733333333, 0.934782609, 0.743589744, 0.76119403, 0.359375, 0.9375, 0.95045045, 0.926282051, 0.899280576, 0.742857143, 0.978021978, 0.980769231, 0.975609756, 0.59375, 0.784023669, 0.833333333, 0.866666667, 1.0, 0.75, 0.242424242, 0.144578313, 0.233333333, 0.8, 0.684210526, 0.888888889, 0.633333333, 0.470588235, 0.472727273, 0.57037037, 0.333333333, 0.62745098, 0.924050633, 0.580188679, 0.226600985, 0.106463878, 0.235074627, 0.325, 0.194139194, 0.216981132, 0.506666667, 0.362068966, 0.217255717, 0.544776119, 0.679802956, 0.144486692, 0.297169811, 0.660714286, 0.113553114, 0.421383648, 0.456521739, 0.365145228, 0.128617363, 0.129175947, 0.266112266, 0.275862069, 0.264150943, 0.23880597, 0.783333333, 0.28358209, 0.980392157, 0.609958506, 0.957894737, 0.326403326, 0.971428571, 0.882352941, 0.835616438, 0.93986637, 0.279874214, 0.926045016, 0.493150685, 0.359375, 0.6875, 0.643652561, 0.714285714, 0.597122302, 0.609756098, 0.485714286, 0.673076923, 0.568965517, 0.565217391, 0.648648649, 0.592039801, 0.586956522, 0.512820513, 0.46875, 0.571005917, 0.666666667, 0.25, 0.253144654, 0.115671642, 0.641509434, 0.1, 0.484848485, 0.385542169, 0.269230769, 0.19391635, 0.208333333, 0.198218263, 0.198113208, 0.113305613, 0.371428571, 0.240963855, 0.330049261, 0.117924528, 0.15408805, 0.4, 0.235074627, 0.25, 0.113207547, 0.438423645, 0.279467681, 0.117924528, 0.6, 0.261006289, 0.232142857, 0.137214137, 0.328358209, 0.266025641, 0.168674699, 0.114285714, 0.583333333, 0.410958904, 0.219334719, 0.278396437, 1.0, 1.0, 1.0, 1.0, 0.338403042, 0.980295567, 0.650943396, 0.493333333, 0.646551724, 0.58974359, 0.608108108, 0.710144928, 0.68879668, 0.479452055, 0.554216867, 0.574626866, 0.382636656, 0.340757238, 1.0, 0.596958175, 0.985849057, 0.919811321, 1.0, 0.971428571, 0.933333333, 0.666666667, 0.92, 0.955223881, 0.948717949, 0.939655172, 0.378947368, 0.720588235, 0.956521739, 0.875518672, 0.961538462, 0.671232877, 0.939759036, 0.620578778, 0.917910448, 0.590200445, 0.642857143, 0.220095694, 0.634920635, 0.507575758, 0.333333333, 0.555555556, 0.536144578, 0.704545455, 0.421800948, 0.565789474, 0.314606742, 0.34017094, 0.5390625, 1.0, 0.953488372, 1.0, 0.933333333, 1.0, 0.927710843, 0.939393939, 1.0, 0.965277778, 0.941176471, 1.0, 1.0, 1.0, 0.9, 1.0, 1.0, 1.0, 0.923076923, 1.0, 0.48, 1.0, 0.829268293, 0.965517241, 1.0, 0.7, 0.714285714, 0.344827586, 0.952380952, 0.708333333, 0.231155779, 0.24609375, 0.935897436, 0.253623188, 0.536231884, 0.4, 0.760869565, 0.61038961, 0.234188034, 0.385321101, 0.593495935, 0.426966292, 0.767857143, 0.693467337, 0.696629213, 0.456521739, 0.477272727, 0.301435407, 0.642857143, 0.437606838, 0.281407035, 0.530120482, 0.398104265, 0.311594203, 0.953488372, 1.0, 0.885714286, 1.0, 1.0, 0.952, 1.0, 1.0, 0.963855422, 1.0, 1.0, 0.988764045, 0.652173913, 0.688888889, 0.961937716, 0.68627451, 0.660377358, 0.78125, 0.658767773, 0.705882353, 0.823529412, 0.769230769, 0.736842105, 0.722222222, 0.882352941, 0.620689655, 0.642857143, 0.615384615, 0.705882353, 0.65, 0.702702703, 0.764705882, 0.674509804, 0.434782609, 0.225694444, 0.383561644, 0.217391304, 0.200956938, 0.208530806, 0.441558442, 0.21799308, 0.256410256, 0.37398374, 0.481481481, 0.24609375, 0.164102564, 0.449275362, 0.454545455, 0.5, 0.281990521, 0.464285714, 0.447236181, 0.460674157, 0.434210526, 0.659574468, 0.617647059, 0.388535032, 0.571428571, 0.426229508, 0.416666667, 0.373056995, 0.39245283, 0.453781513, 0.264957265, 0.589285714, 0.464052288, 0.45, 0.448275862, 0.666666667, 0.551020408, 1.0, 0.714285714, 0.627906977, 1.0, 1.0, 1.0, 1.0, 0.734597156, 0.655502392, 0.666666667, 0.727272727, 0.992753623, 1.0, 1.0, 1.0, 1.0, 0.97826087, 0.967741935, 0.93373494, 0.979591837, 0.942857143, 0.96969697, 1.0, 0.96875], 'Positive_Examples': [67, 46, 89, 33, 56, 138, 199, 203, 53, 42, 34, 11, 43, 58, 153, 23, 45, 422, 289, 125, 26, 89, 51, 80, 19, 265, 10, 13, 7, 3, 8, 12, 14, 52, 13, 32, 19, 16, 26, 77, 10, 32, 73, 123, 46, 56, 63, 13, 53, 138, 38, 42, 209, 73, 138, 76, 63, 37, 31, 268, 63, 88, 40, 58, 256, 56, 56, 32, 47, 76, 50, 147, 91, 314, 102, 60, 61, 422, 178, 288, 36, 23, 33, 289, 65, 83, 50, 17, 35, 33, 26, 288, 119, 27, 40, 15, 193, 10, 53, 161, 31, 34, 14, 16, 32, 259, 102, 65, 89, 42, 109, 52, 20, 67, 75, 98, 14, 63, 14, 24, 89, 147, 25, 21, 166, 13, 132, 88, 83, 14, 16, 35, 30, 211, 125, 35, 268, 60, 56, 178, 199, 138, 37, 75, 161, 585, 98, 166, 35, 46, 77, 119, 153, 203, 314, 209, 585, 56, 34, 56, 34, 69, 256, 259, 109, 36, 49, 132, 211, 50, 49, 78, 193, 123, 265, 63, 46, 40, 67, 46, 35, 89, 62, 89, 43, 56, 199, 138, 27, 41, 13, 14, 50, 77, 31, 10, 278, 16, 10, 17, 11, 9, 34, 29, 3, 12, 4, 12, 3, 34, 28, 20, 7, 5, 10, 20, 17, 46, 63, 73, 35, 37, 30, 35, 47, 137, 42, 73, 76, 43, 138, 62, 63, 63, 63, 63, 256, 56, 88, 84, 43, 41, 33, 31, 65, 35, 119, 45, 50, 80, 51, 80, 88, 15, 31, 278, 105, 175, 25, 278, 24, 14, 10, 14, 65, 15, 18, 54, 72, 24, 26, 104, 13, 172, 20, 65, 28, 30, 42, 88, 34, 63, 20, 46, 13, 63, 96, 62, 15, 21, 119, 26, 89, 82, 33, 31, 21, 122, 20, 26, 15, 72, 104, 54, 155, 33, 71, 18, 26, 18, 27, 56, 30, 27, 89, 33, 46, 42, 155, 137, 34, 96, 137, 63, 42, 73, 34, 45, 30, 155, 96, 33, 32, 63, 31], 'Body_size': [141, 212, 242, 312, 526, 268, 636, 962, 73, 203, 212, 35, 60, 268, 636, 287, 51, 526, 312, 242, 141, 105, 68, 95, 83, 962, 33, 140, 19, 4, 33, 83, 287, 120, 141, 84, 203, 242, 526, 636, 312, 268, 212, 962, 203, 526, 268, 449, 287, 636, 84, 120, 962, 140, 203, 526, 212, 56, 287, 636, 141, 242, 312, 449, 962, 203, 212, 140, 60, 268, 51, 242, 95, 962, 105, 68, 73, 449, 636, 312, 73, 287, 51, 449, 105, 242, 95, 141, 68, 203, 212, 526, 636, 60, 268, 83, 962, 140, 212, 636, 268, 53, 140, 33, 83, 962, 526, 312, 449, 212, 962, 140, 83, 203, 636, 636, 35, 268, 56, 212, 203, 526, 212, 35, 636, 56, 962, 268, 312, 83, 140, 60, 73, 962, 449, 35, 268, 60, 56, 526, 203, 212, 84, 120, 287, 962, 141, 242, 73, 83, 140, 312, 449, 203, 526, 212, 636, 56, 35, 60, 51, 84, 268, 287, 120, 95, 68, 141, 242, 53, 73, 83, 312, 140, 449, 98, 209, 63, 132, 138, 63, 166, 88, 211, 76, 178, 585, 256, 27, 47, 22, 15, 50, 83, 33, 10, 288, 17, 11, 21, 26, 18, 49, 36, 3, 37, 11, 147, 25, 75, 42, 38, 89, 56, 289, 63, 138, 199, 256, 209, 138, 69, 75, 46, 77, 585, 109, 123, 178, 56, 199, 89, 138, 132, 209, 98, 585, 199, 166, 211, 138, 43, 33, 35, 65, 35, 125, 45, 50, 83, 51, 80, 89, 23, 45, 289, 153, 265, 34, 422, 34, 22, 13, 19, 102, 23, 35, 166, 211, 49, 56, 178, 21, 314, 46, 288, 73, 138, 209, 422, 77, 289, 78, 123, 27, 256, 585, 138, 33, 42, 422, 56, 199, 178, 76, 47, 34, 314, 35, 61, 36, 193, 265, 119, 585, 56, 153, 40, 58, 27, 49, 56, 42, 43, 89, 33, 46, 42, 211, 209, 52, 132, 138, 63, 42, 73, 34, 46, 31, 166, 98, 35, 34, 63, 32], 'PCA_Body_size': [138, 212, 241, 311, 526, 268, 636, 962, 73, 58, 46, 15, 46, 78, 201, 64, 48, 444, 312, 139, 35, 91, 52, 82, 32, 338, 12, 15, 7, 4, 33, 83, 60, 65, 19, 36, 30, 34, 55, 135, 30, 51, 79, 212, 203, 526, 268, 40, 273, 636, 75, 116, 962, 134, 203, 526, 212, 56, 273, 636, 138, 241, 311, 449, 962, 203, 212, 134, 60, 268, 51, 241, 95, 962, 105, 68, 73, 449, 636, 311, 73, 64, 48, 449, 91, 139, 82, 35, 52, 58, 46, 444, 201, 46, 78, 32, 338, 15, 212, 636, 268, 53, 140, 33, 83, 962, 526, 312, 449, 212, 962, 140, 83, 203, 636, 636, 35, 268, 56, 212, 203, 526, 212, 35, 636, 56, 962, 268, 312, 83, 140, 60, 73, 962, 449, 35, 268, 60, 56, 526, 203, 212, 75, 116, 273, 962, 138, 241, 73, 83, 134, 311, 449, 203, 526, 212, 636, 56, 35, 60, 51, 75, 268, 273, 116, 95, 68, 138, 241, 52, 73, 83, 311, 134, 449, 98, 209, 63, 132, 138, 63, 166, 88, 211, 76, 178, 585, 256, 27, 43, 13, 15, 50, 83, 33, 10, 288, 17, 10, 17, 11, 10, 34, 29, 3, 13, 4, 25, 3, 41, 29, 20, 10, 7, 29, 21, 24, 199, 256, 78, 138, 69, 75, 46, 77, 585, 109, 123, 178, 56, 199, 89, 138, 132, 209, 98, 585, 199, 166, 211, 138, 43, 33, 35, 65, 35, 125, 45, 50, 83, 51, 80, 89, 23, 45, 289, 153, 265, 32, 422, 34, 17, 13, 19, 90, 17, 29, 84, 117, 34, 40, 148, 17, 255, 46, 288, 73, 138, 209, 422, 77, 289, 78, 123, 27, 256, 585, 138, 33, 42, 422, 56, 199, 178, 76, 47, 34, 314, 35, 61, 36, 193, 265, 119, 585, 56, 153, 40, 58, 27, 49, 56, 42, 43, 89, 33, 46, 42, 211, 209, 51, 132, 138, 63, 42, 73, 34, 46, 31, 166, 98, 35, 33, 63, 32], 'Functional_variable': ['?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a', '?a']}
body_dict = {'key': ['?a', '  <hasStage>', '  <IIIB>', '  <hasOncologicalTreatment>', '   <Immunotherapy>  ', '  <IIIA>', '  <hasOncologicalSurgery>', '  <hasBio>', '   <Chemotherapy>  ', '   <Surgery>  ', '   <Radical>  ', '  <Radiotherapy>  ', '   <Pneumonectomy>  ', '  <Chemotherapy-Radiotherapy>', '  <Neoadjuvant>   ', '   <Adjuvant>  ', '  <Lymph_node_excision>  ', '   <Lobectomy>  ', '  <Prophylactic>   ', '  <IA>   ', '  <IA1>   ', '  <IA2>   ', '  <IB>   ', '  <IIA>   ', '  <IIB>   ', '  <III>   ', '  <IIIA>   ', '  <IIIB>   ', '  <IIIC>   ', '  <IV>   ', '  <IVA>   ', '  <IVB>   ', '  <HormonalTherapy>   ', '   <ALK>  ', '  <PDL1>  ', '  <KRAS>   ', '   <EGFR>  ', '   <BRAF>  ', '   <Pleurodesis>  '], 'value': ['IF a patient ', 'is in stage ', 'IIIB', 'has oncological treatment  ', 'Immunotherapy ', 'IIIA', 'has oncological surgery  ', 'is positive for biomarker  ', 'Chemotherapy ', 'Surgery ', 'Radical ', 'Radiotherapy ', 'Pneumonectomy ', 'Chemotherapy-Radiotherapy', 'Neoadjuvant ', 'Adjuvant ', 'Lymph node excision ', 'Lobectomy ', 'Prophylactic ', 'IA ', 'IA1 ', 'IA2 ', 'IB ', 'IIA ', 'IIB ', 'III ', 'IIIA ', 'IIIB ', 'IIIC ', 'IV ', 'IVA ', 'IVB ', 'HormonalTherapy ', 'ALK ', 'PDL1 ', 'KRAS ', 'EGFR ', 'BRAF ', 'Pleurodesis ']}
head_dict = {'key': ['?a', '  <hasStage>', '  <IIIB>', '  <hasOncologicalTreatment>', '  <Immunotherapy>', '  <IIIA>', '  <hasOncologicalSurgery>', '  <hasBio>', '   <Chemotherapy>', '   <Surgery>', '   <Radical>', '  <Radiotherapy>', '   <Pneumonectomy>', '  <Chemotherapy-Radiotherapy>', '  <Neoadjuvant>', '   <Adjuvant>', '  <Lymph_node_excision>', '   <Lobectomy>', '  <Prophylactic>', '  <IA>', '  <IA1>', '  <IA2>', '  <IB>', '  <IIA>', '  <IIB>', '  <III>', '  <IIIA>', '  <IIIB>', '  <IIIC>', '  <IV>', '  <IVA>', '  <IVB>', '  <HormonalTherapy>', '   <ALK>', '  <PDL1>', '  <KRAS>', '   <EGFR>', '   <BRAF>', '   <Pleurodesis>'], 'value': ['THEN the patient could ', 'be in stage ', 'IIIB ', 'have received oncological treatment  ', 'Immunotherapy ', 'IIIA', 'have received oncological surgery  ', 'be positive for biomarker  ', 'Chemotherapy ', 'Surgery ', 'Radical ', 'Radiotherapy ', 'Pneumonectomy ', 'Chemotherapy-Radiotherapy ', 'Neoadjuvant ', 'Adjuvant ', 'Lymph node excision ', 'Lobectomy ', 'Prophylactic ', 'IA ', 'IA1 ', 'IA2 ', 'IB ', 'IIA ', 'IIB ', 'III ', 'IIIA ', 'IIIB ', 'IIIC ', 'IV ', 'IVA ', 'IVB ', 'HormonalTherapy ', 'ALK ', 'PDL1 ', 'KRAS ', 'EGFR ', 'BRAF ', 'Pleurodesis ']}




def violin_plot(violin_Data):
    # Replacing regex characters in DataFrame columns
    violin_Data = violin_Data.replace(r'\?a|<|>|(\bhas\w*)', '', regex=True)
    # violin_Data['Head'] = violin_Data['Head'].apply(lambda x: x.replace('?a <', ''))
    sns.violinplot(x='Head', y='PCA_Confidence', data=violin_Data, color="0.6")
    sns.stripplot(x='Head', y='PCA_Confidence', data=violin_Data, jitter=True)
    plt.title('Distribution of PCA Confidence')
    # plt.savefig('output/ViolinPlot.png')
    plt.show()



def create_NL_template(data1, data2):

    my_dict = pd.Series(data2.Number_Patients.values, index=data2.Head_objects).to_dict()

    pattern = '|'.join([re.escape(key).replace('_', r'.*.') for key in my_dict.keys()])

    # Use the regular expression pattern to match substrings in the dataframe column
    matches = data1['Head'].str.findall(pattern, flags=re.IGNORECASE)
    # print(matches)

    def lookup_value(x):
        if len(x) > 0:
            best_match = None
            best_score = 0
            for key in my_dict.keys():
                score = fuzz.ratio(x[0], key)
                if score > best_score:
                    best_score = score
                    best_match = key
            if best_match is not None:
                return my_dict[best_match]
        else:
            return None

    # Add a new column to the dataframe with the corresponding values from the dictionary
    data1['NumP'] = matches.apply(lambda x: lookup_value(x))
    text1 = []
    text2 = []
    text3 = []
    text4 = []

    for index, row in data1.iterrows():
        b = row['Body']
        h = row['Head']

        new_body = b.replace("IF a patient ", "").replace("is", "")
        new_head = h.replace("THEN the patient ", "")

        text1.append(str(row['Body'].strip()) +" "+ str(row['Head']).strip())
        text2.append("The PCA Confidence score is " + str( row['PCA_Confidence']) + ". \n"
                     + str(row['Body_size']) + " patients " + new_body + ". \n"
                     + str(row['NumP']) + " patients " + new_head + ". \n"
                     + str(row['Positive_Examples']) + " out of " + str(row['Body_size']) + " patients " + new_body + "and also "
                     + str(row['Positive_Examples']) + " out of " + str(row['NumP']) + " patients "+ new_head +".")
        text3.append(str(row['PCA_Confidence']))
        text4.append(str(row['F1_Score']))


    df = pd.DataFrame({'Rule': text1, 'PCA Confidence Score': text3, 'F1 Score': text4, 'Explanation': text2})

    return df


def process(data_dict, body_dict, head_dict, my_dict):
    df1 = pd.DataFrame.from_dict(data_dict)
    df2 = pd.DataFrame.from_dict(body_dict)
    df3 = pd.DataFrame.from_dict(head_dict)
    df4, input_dict = main_rulesHead(my_dict)

    Head_var = df4['Head_predicate'].dropna().unique()
    Head_var = ''.join(map(str, Head_var))

    query = f"""SELECT * FROM df1 WHERE Head LIKE '%{Head_var}%'"""
    df = sqldf(query, locals())

    values_list = []
    for values in input_dict.values():
        if values != '':
            filtered_values = values
            values_list.append(filtered_values)

    # Match list elements with DataFrame rows
    matched_df = df[df['Body'].str.contains('|'.join(values_list))]
    violin_Data = matched_df.copy()
    pos_df, neg_df = mainPosNeg(matched_df)

    return matched_df, df4, violin_Data, pos_df, neg_df


def ruleTranslation(matched_df):
    df2 = pd.DataFrame.from_dict(body_dict)
    df3 = pd.DataFrame.from_dict(head_dict)

    my_dict_body = dict(zip(df2.key, df2.value))
    my_dict_head = dict(zip(df3.key, df3.value))

    matched_df['Body'] = matched_df['Body'].apply(
        lambda x: x if pd.isnull(x) else reduce(lambda a, kv: a.replace(*kv), my_dict_body.items(), x))
    matched_df['Head'] = matched_df['Head'].apply(
        lambda x: x if pd.isnull(x) else reduce(lambda a, kv: a.replace(*kv), my_dict_head.items(), x))

    matched_df['Body'] = matched_df['Body'].str.replace('(.*IF.*?)(IF)', r'\1AND\2', regex=True)
    matched_df['F1_Score'] = scipy.stats.hmean(matched_df.loc[:,['Head_Coverage', 'PCA_Confidence']], axis=1)

    return matched_df



def run_api(input_json):
    my_dict = input_json['Input']['Variables']
    data1, data2, violin_Data, pos_df, neg_df = process(data_dict, body_dict, head_dict, my_dict)
    Rule_main = ruleTranslation(data1)
    PosRule = ruleTranslation(pos_df)
    NegRule = ruleTranslation(neg_df)
    result_main = create_NL_template(Rule_main, data2)
    result1 = result_main.rename(columns={"Rule": "All Rules"})
    result1 = result1.to_json(orient='records')

    result_pos = create_NL_template(PosRule, data2)
    result2= result_pos.rename(columns={"Rule": "Positive Outcome Rules"})
    result2 = result2.to_json(orient='records')

    result_neg = create_NL_template(NegRule, data2)
    result3 = result_neg.rename(columns={"Rule": "Negative Outcome Rules"})
    result3 = result3.to_json(orient='records')

    # violin_plot(violin_Data)

    return result1, result2, result3



# d1, d2, d3 = run_api(input_json)
# print(d3)
